/** @license MIT (http://opensource.org/licenses/MIT) */
if("function"!=typeof define)var define=require("amdefine")(module);define(function(){"use strict";return function(e){return e()}(function(){function e(e){return"boolean"==typeof e}function t(e){return e instanceof Array}function n(e){return"function"==typeof e}function a(e){return e instanceof Object}function i(e){return n(e)}function r(e){var t,n,a,i=e;if(i)for(t=arguments.length,n=1;t>n;++n)a=arguments[n],i=i.replace(RegExp("\\{"+n+"\\}","g"),a);return i}function o(e,t,n,a){return t===s.TAIL?!0:void 0===e?n===!0:null===e?a===!0:t===s.ANYTYPE?!0:D(e)===t||e instanceof t}function c(e,n,a,i){return n===s.TAIL?t(e):void 0===e?a===!0:null===e?i===!0:n===s.ANYTYPE?!0:D(e)===n||e instanceof n}function u(e,t){return n(t)?e===Function?t:e===s.ANYTYPE?t:t():t}function s(){}var f=!1,l=!1,p=!0,m="bad call: ",R=m+'type of "{1}" is invalid.',E=m+"no arguments. function call is not compatible with function specification.",_=m+"too many arguments. function call is not compatible with function specification.",A=m+"parameter specification #{1} is not an object structure.",d='parameter specification "{1}": ',g=d+"default value is not compatible to parameter type",y=d+'value of "{2}" has incorrect type (must be {3})',h=d+'"{2}" is invalid.',v=d+"type specification is missing.",T=d+"parameter with same name already defined (conflicting position in function specification: #{2})",L="parameter specification: parameter #{1} has no name",U=d+"specification contains more than one element.",b=d+'"{2}" is {3} allowed for the tail-parameter in a variadic function',P="in a variadic function the tail-parameter must be the last parameter in the function specification.",S=d+"type specification has too many elements.",w=d+'type specification contains unknown option "{2}".',G="Incompatible function call: ",I=G+'mandatory argument "{1}" has no value.',O=G+"too many arguments. {1}",J=function(){var e=Object.prototype.toString.call(arguments);return function(t){return Object.prototype.toString.call(t)===e}}(),D=function(e){return void 0===e?void 0:null===e?null:e.constructor},F=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(t){return t?e.test(t):!1}}();return s.ANYTYPE=function(){},s.TAIL=function(){},s.getArguments=function(e,i){var m,R,E,_,A,d,y,v,T,L,U,b,P,S,G,J,D,F,N,V,Y;if(1===arguments.length){if(i=arguments[0],!i||i.length>0)throw Error(r(O,"no parameters defined but arguments given"));return{}}for(m=e.length,R={},E={},b=i.length,P=0,S=i[P],G=0;m>G;++G){J=e[G],_=void 0,A=void 0,d=void 0,y=void 0,v=void 0,T=void 0,L=void 0,U=void 0;for(D in J)if(J.hasOwnProperty(D))if(_=D,F=J[D],n(F))d=!1,A=F;else if(t(F))d=!0,A=F[0],F.length>=2&&(y=!0,v=F[1]);else{if(!a(F))throw Error(r(h,_,"type"));for(N in F)if(F.hasOwnProperty(N))switch(N){case"type":t(F.type)?(d=!0,A=F.type[0]):(d=!1,A=F.type);break;case"defaultValue":y=!0,d=!0,v=F[N];break;case"allowUndefined":T=F[N];break;case"allowNull":L=F[N];break;case"parenthesizeTail":U=F[N];break;default:throw Error(r(w,_,N))}}if(A!==s.TAIL?(void 0===T&&(T=l),void 0===L&&(L=f)):void 0===U&&(U=p),b>P&&o(S,A,T,L)){if(A===s.TAIL){if(++P<b){V=[S];do V[V.length]=i[P];while(++P<b);R[_]=V}else R[_]=!t(S)||U?[S]:S;P=b;break}R[_]=S,++P,b>P&&(S=i[P])}else{if(!d)throw Error(r(I,_));if(y){if(Y=u(A,v),!c(Y,A,T,L))throw Error(r(g,_));R[_]=Y}}}if(b>P)throw Error(r(O,"there are arguments left but all parameters are processed."));return R},s.__export_internals__=function(N){var V,Y,x,k,C,j,B;if(void 0!==N&&!(N instanceof s))throw Error(m+"_arguejs type mismatch");V={config:{ARGUEJS_PRODUCTION_READY:!0},$:{defaults:{DEFAULT_VALUE_FOR_ALLOWNULL:f,DEFAULT_VALUE_FOR_ALLOWUNDEFINED:l,DEFAULT_VALUE_FOR_PARENTHESIZETAIL:p},errorTexts:{ERR_BADCALL_PREFIX:m,ERR_BADCALL_InvalidTypeOfArgument:R,ERR_BADCALL_NoArguments:E,ERR_BADCALL_TooManyArguments:_,ERR_BADCALL_InvalidTypeOfParameter:A,ERR_ARGUEJS_PREFIX:d,ERR_ARGUEJS_DefaultValueHasIncompatibleType:g,ERR_ARGUEJS_InvalidTypeOfValue:y,ERR_ARGUEJS_InvalidValue:h,ERR_ARGUEJS_MissingTypeSpecification:v,ERR_ARGUEJS_ParameterAlreadyDefined:T,ERR_ARGUEJS_ParameterSpecificationWithoutName:L,ERR_ARGUEJS_ParameterWithTooManyElements:U,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:b,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:P,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:S,ERR_ARGUEJS_UnknownTypeSpecificationOption:w,ERR_ARGUEJS_GetParameters_PREFIX:G,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:I,ERR_ARGUEJS_GetParameters_TooManyArguments:O,asRegExp:{}},isBoolean:e,isArray:t,isFunction:n,isObject:a,isArguments:J,isType:i,getType:D,formatText:r,validateParameterName:F,isCompatibleArgumentValue:o,isCompatibleDefaultValue:c,getDefaultValue:u},ArgueJS:{},_arguejs:N?void 0:{}},Y=/\./g,x=/\(/g,k=/\)/g,C=/\{[1-9][0-9]?\}/g,j=V.$.errorTexts;for(B in j)j.hasOwnProperty(B)&&"asRegExp"!==B&&(j.asRegExp[B]=RegExp("^"+j[B].replace(Y,"\\.").replace(x,"\\(").replace(k,"\\)").replace(C,".*")+"$"));return V},s})});