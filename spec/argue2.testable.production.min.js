/** @license MIT (http://opensource.org/licenses/MIT) */
if("function"!=typeof define)var define=require("amdefine")(module);define(function(){"use strict";return function(e){return e()}(function(){function e(e){return"boolean"==typeof e}function t(e){return e instanceof Array}function n(e){return"function"==typeof e}function r(e){return e instanceof Object}function i(e){return n(e)}function a(e){var t,n,r,i=e;if(i)for(t=arguments.length,n=1;t>n;++n)r=arguments[n],i=i.replace(RegExp("\\{"+n+"\\}","g"),r);return i}function o(e,n,r,i,a){if(a){if(n===c.TAIL)return t(e);if(void 0===e)return r===!0;if(null===e)return i===!0}else{if(n===c.TAIL)return!0;if(void 0===e)return r===!0;if(null===e)return i===!0}return n===c.ANYTYPE?!0:G(e)===n||e instanceof n}function c(){}var u=!1,f=!1,s=!0,l="bad call: ",p=l+'type of "{1}" is invalid.',E=l+"no arguments. function call is not compatible with function specification.",R=l+"too many arguments. function call is not compatible with function specification.",m=l+"parameter specification #{1} is not an object structure.",_='parameter specification "{1}": ',A=_+"default value is not compatible to parameter type",d=_+'value of "{2}" has incorrect type (must be {3})',g=_+'"{2}" is invalid.',y=_+"type specification is missing.",h=_+"parameter with same name already defined (conflicting position in function specification: #{2})",v="parameter specification: parameter #{1} has no name",T=_+"specification contains more than one element.",L=_+'"{2}" is {3} allowed for the tail-parameter in a variadic function',P="in a variadic function the tail-parameter must be the last parameter in the function specification.",U=_+"type specification has too many elements.",S=_+'type specification contains unknown option "{2}".',b="Incompatible function call: ",I=b+'mandatory argument "{1}" has no value.',w=b+"too many arguments. {1}",O=function(){var e=Object.prototype.toString.call(arguments);return function(t){return Object.prototype.toString.call(t)===e}}(),G=function(e){return void 0===e?void 0:null===e?null:e.constructor},J=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(t){return t?e.test(t):!1}}();return c.ANYTYPE=function(){},c.TAIL=function(){},c.getArguments=function(e,i){var l,p,E,R,m,_,d,y,h,v,T,L,P,U,b,O,G,J,N,D,F;if(1===arguments.length){if(i=arguments[0],!i||i.length>0)throw Error(a(w,"no parameters defined but arguments given"));return{}}for(l=e.length,p={},E={},L=i.length,P=0,U=i[P],b=0;l>b;++b){O=e[b],R=void 0,m=void 0,_=void 0,d=void 0,y=void 0,h=void 0,v=void 0,T=void 0;for(G in O)if(O.hasOwnProperty(G))if(R=G,J=O[G],n(J))_=!1,m=J;else if(t(J))_=!0,m=J[0],J.length>=2&&(d=!0,y=J[1]);else{if(!r(J))throw Error(a(g,R,"type"));for(N in J)if(J.hasOwnProperty(N))switch(N){case"type":t(J.type)?(_=!0,m=J.type[0]):(_=!1,m=J.type);break;case"defaultValue":d=!0,_=!0,y=J[N];break;case"allowUndefined":h=J[N];break;case"allowNull":v=J[N];break;case"parenthesizeTail":T=J[N];break;default:throw Error(a(S,R,N))}}if(m!==c.TAIL?(void 0===h&&(h=f),void 0===v&&(v=u)):void 0===T&&(T=s),L>P&&o(U,m,h,v,!1)){if(m===c.TAIL){if(++P<L){D=[U];do D[D.length]=i[P];while(++P<L);p[R]=D}else p[R]=!t(U)||T?[U]:U;P=L;break}p[R]=U,++P,L>P&&(U=i[P])}else{if(!_)throw Error(a(I,R));if(d){if(F=m!==Function&&m!==c.ANYTYPE&&n(y)?y():y,!o(F,m,h,v,!0))throw Error(a(A,R));p[R]=F}}}if(L>P)throw Error(a(w,"there are arguments left but all parameters are processed."));return p},c.__export_internals__=function(N){var D,F,V,x,k,M,Y;if(void 0!==N&&!(N instanceof c))throw Error(l+"_arguejs type mismatch");D={config:{ARGUEJS_PRODUCTION_READY:!0},$:{defaults:{DEFAULT_OPTION_VALUE_ALLOWNULL:u,DEFAULT_OPTION_VALUE_ALLOWUNDEFINED:f,DEFAULT_OPTION_VALUE_PARAMETERPARENTHESIZETAIL:s},errorTexts:{ERR_BADCALL_PREFIX:l,ERR_BADCALL_InvalidTypeOfArgument:p,ERR_BADCALL_NoArguments:E,ERR_BADCALL_TooManyArguments:R,ERR_BADCALL_InvalidTypeOfParameter:m,ERR_ARGUEJS_PREFIX:_,ERR_ARGUEJS_DefaultValueHasIncompatibleType:A,ERR_ARGUEJS_InvalidTypeOfValue:d,ERR_ARGUEJS_InvalidValue:g,ERR_ARGUEJS_MissingTypeSpecification:y,ERR_ARGUEJS_ParameterAlreadyDefined:h,ERR_ARGUEJS_ParameterSpecificationWithoutName:v,ERR_ARGUEJS_ParameterWithTooManyElements:T,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:L,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:P,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:U,ERR_ARGUEJS_UnknownTypeSpecificationOption:S,ERR_ARGUEJS_GetParameters_PREFIX:b,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:I,ERR_ARGUEJS_GetParameters_TooManyArguments:w,asRegExp:{}},isBoolean:e,isArray:t,isFunction:n,isObject:r,isArguments:O,isType:i,getType:G,formatText:a,validateParameterName:J,isCompatibleValue:o},ArgueJS:{},_arguejs:N?void 0:{}},F=/\./g,V=/\(/g,x=/\)/g,k=/\{[1-9][0-9]?\}/g,M=D.$.errorTexts;for(Y in M)M.hasOwnProperty(Y)&&"asRegExp"!==Y&&(M.asRegExp[Y]=RegExp("^"+M[Y].replace(F,"\\.").replace(V,"\\(").replace(x,"\\)").replace(k,".*")+"$"));return D},c})});