/** @license MIT (http://opensource.org/licenses/MIT) */
!function(e,t,a){if("function"==typeof define&&"object"==typeof define.amd)define(a);else if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module)module.exports=a();else{if(void 0!==t[e])throw Error('cannot export module "'+e+'" in current namespace. name already in use.');t[e]=a()}}("arguejs",this,function(){"use strict";function e(e){return"boolean"==typeof e}function t(e){return e instanceof Array}function a(e){return"function"==typeof e}function n(e){return e instanceof Object}function r(e){return a(e)}function i(e){var t,a,n,r=e;if(r)for(t=arguments.length,a=1;t>a;++a)n=arguments[a],r=r.replace(RegExp("\\{"+a+"\\}","g"),n);return r}function o(e,t){return t.type===_.TAIL?!0:void 0===e?t.allowUndefined===!0:null===e?t.allowNull===!0:t.type===_.ANYTYPE?!0:M(e)===t.type||e instanceof t.type}function l(e,a){return a.type===_.TAIL?t(e):void 0===e?a.allowUndefined===!0:null===e?a.allowNull===!0:a.type===_.ANYTYPE?!0:M(e)===a.type||e instanceof a.type}function u(e){return a(e)}function c(e){return t(e)}function s(e){return M(e)===Object}function f(e){e.type===_.TAIL?void 0===e.parenthesizeTail&&(e.parenthesizeTail=h):(void 0===e.allowNull&&(e.allowNull=A),void 0===e.allowUndefined&&(e.allowUndefined=g))}function p(e,t,a){var n={idx:e,name:t,isOptional:!1,type:a};return f(n),n}function m(e,t,a){var n={idx:e,name:t,isOptional:!0,type:a[0]};return a.length>=2?(n.hasDefaultValue=!0,n.defaultValue=a[1]):n.hasDefaultValue=!1,f(n),n}function E(e,t,a){var n,r={idx:e,name:t};for(n in a)if(a.hasOwnProperty(n))switch(n){case"type":c(a.type)?(r.isOptional=!0,r.type=a.type[0]):(r.isOptional=!1,r.type=a.type);break;case"defaultValue":r.hasDefaultValue=!0,r.isOptional=!0,r.defaultValue=a[n];break;case"allowUndefined":r.allowUndefined=a[n];break;case"allowNull":r.allowNull=a[n];break;case"parenthesizeTail":r.parenthesizeTail=a[n];break;default:throw Error(i(F,t,n))}return f(r),r}function y(e,t){var a,n,r;for(n in t)if(t.hasOwnProperty(n)){if(r=t[n],u(r)){a=p(e,n,r);break}if(c(r)){a=m(e,n,r);break}if(s(r)){a=E(e,n,r);break}throw Error(i(O,n,"type"))}return a}function R(e,t){}function d(e){var t;if(t=a(e.defaultValue)&&e.type!==Function&&e.type!==_.ANYTYPE?e.defaultValue():e.defaultValue,!l(t,e))throw Error(i(P,e.name));return t}function _(){}var A=!1,g=!1,h=!0,T="bad call: ",v=T+'type of "{1}" is invalid.',w=T+"no arguments. function call is not compatible with function specification.",S=T+"too many arguments. function call is not compatible with function specification.",U=T+"parameter specification #{1} is not an object structure.",b='parameter specification "{1}": ',P=b+"default value is not compatible to parameter type",L=b+'value of "{2}" has incorrect type (must be {3})',O=b+'"{2}" is invalid.',V=b+"type specification is missing.",D=b+"parameter with same name already defined (conflicting position in function specification: #{2})",G="parameter specification: parameter #{1} has no name",I=b+"specification contains more than one element.",N=b+'"{2}" is {3} allowed for the tail-parameter in a variadic function',x="in a variadic function the tail-parameter must be the last parameter in the function specification.",J=b+"type specification has too many elements.",F=b+'type specification contains unknown option "{2}".',j="Incompatible function call: ",k=j+'mandatory argument "{1}" has no value.',C=j+"too many arguments. {1}",Y=function(){var e=Object.prototype.toString.call(arguments);return function(t){return Object.prototype.toString.call(t)===e}}(),M=function(e){return void 0===e?void 0:null===e?null:e.constructor},z=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(t){return t?e.test(t):!1}}();return _.ANYTYPE=function(){},_.TAIL=function(){},_.getArguments=function(e,a){var n,r,l,u,c,s,f,p,m;if(1===arguments.length){if(!Y(arguments[0])&&!t(arguments[0]))throw Error(i(v,"_arguments"));if(!arguments[0]||arguments[0].length>0)throw Error(i(C,"no parameters defined but arguments given"));return{}}for(n={},r={},l=e.length,u=a.length,c=0,s=a[c],f=0;l>f;++f)if(p=e[f],m=y(f,p),u>c&&o(s,m)){if(m.type===_.TAIL){n[m.name]=c!==u-1?Array.prototype.slice.call(a,c):!t(s)||m.parenthesizeTail?[s]:s,c=u;break}n[m.name]=s,++c,u>c&&(s=a[c])}else{if(!m.isOptional)throw Error(i(k,m.name));m.hasDefaultValue&&(n[m.name]=d(m))}if(u>c)throw Error(i(C,"there are arguments left but all parameters are processed."));return n},_.__export_internals__=function(B){var $,W,X,H,Z,q,K;if(void 0!==B&&!(B instanceof _))throw Error(T+"_arguejs type mismatch");$={config:{ARGUEJS_PRODUCTION_READY:!0},$:{defaults:{DEFAULT_VALUE_FOR_ALLOWNULL:A,DEFAULT_VALUE_FOR_ALLOWUNDEFINED:g,DEFAULT_VALUE_FOR_PARENTHESIZETAIL:h},errorTexts:{ERR_BADCALL_PREFIX:T,ERR_BADCALL_InvalidTypeOfArgument:v,ERR_BADCALL_NoArguments:w,ERR_BADCALL_TooManyArguments:S,ERR_BADCALL_InvalidTypeOfParameter:U,ERR_ARGUEJS_PREFIX:b,ERR_ARGUEJS_DefaultValueHasIncompatibleType:P,ERR_ARGUEJS_InvalidTypeOfValue:L,ERR_ARGUEJS_InvalidValue:O,ERR_ARGUEJS_MissingTypeSpecification:V,ERR_ARGUEJS_ParameterAlreadyDefined:D,ERR_ARGUEJS_ParameterSpecificationWithoutName:G,ERR_ARGUEJS_ParameterWithTooManyElements:I,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:N,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:x,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:J,ERR_ARGUEJS_UnknownTypeSpecificationOption:F,ERR_ARGUEJS_GetParameters_PREFIX:j,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:k,ERR_ARGUEJS_GetParameters_TooManyArguments:C,asRegExp:{}},isBoolean:e,isArray:t,isFunction:a,isObject:n,isArguments:Y,isType:r,getType:M,formatText:i,validateParameterName:z,isCompatibleArgumentValue:o,isCompatibleDefaultValue:l,isSimpleMandatoryTypeSpecification:u,isSimpleOptionalTypeSpecification:c,isComplexTypeSpecification:s,ensureSomeParameterDefaultValues:f,createSimpleMandatoryParameter:p,createSimpleOptionalParameter:m,createComplexParameter:E,createParameter:y,validateParameter:R,getDefaultValue:d},ArgueJS:{},_arguejs:B?void 0:{}},W=/\./g,X=/\(/g,H=/\)/g,Z=/\{[1-9][0-9]?\}/g,q=$.$.errorTexts;for(K in q)q.hasOwnProperty(K)&&"asRegExp"!==K&&(q.asRegExp[K]=RegExp("^"+q[K].replace(W,"\\.").replace(X,"\\(").replace(H,"\\)").replace(Z,".*")+"$"));return $},_});