/** @license MIT (http://opensource.org/licenses/MIT) */
if("function"!=typeof define)var define=require("amdefine")(module);define(function(){"use strict";return function(e){return e()}(function(){function e(e){return"boolean"==typeof e}function t(e){return e instanceof Array}function n(e){return"function"==typeof e}function a(e){return e instanceof Object}function i(e){return n(e)}function r(e){var t,n,a,i=e;if(i)for(t=arguments.length,n=1;t>n;++n)a=arguments[n],i=i.replace(RegExp("\\{"+n+"\\}","g"),a);return i}function o(e,t,n,a){return t===u.TAIL?!0:void 0===e?n===!0:null===e?a===!0:t===u.ANYTYPE?!0:J(e)===t||e instanceof t}function c(e,n,a,i){return n===u.TAIL?t(e):void 0===e?a===!0:null===e?i===!0:n===u.ANYTYPE?!0:J(e)===n||e instanceof n}function u(){}var s=!1,f=!1,l=!0,p="bad call: ",E=p+'type of "{1}" is invalid.',m=p+"no arguments. function call is not compatible with function specification.",R=p+"too many arguments. function call is not compatible with function specification.",_=p+"parameter specification #{1} is not an object structure.",A='parameter specification "{1}": ',d=A+"default value is not compatible to parameter type",g=A+'value of "{2}" has incorrect type (must be {3})',y=A+'"{2}" is invalid.',h=A+"type specification is missing.",v=A+"parameter with same name already defined (conflicting position in function specification: #{2})",T="parameter specification: parameter #{1} has no name",L=A+"specification contains more than one element.",P=A+'"{2}" is {3} allowed for the tail-parameter in a variadic function',U="in a variadic function the tail-parameter must be the last parameter in the function specification.",b=A+"type specification has too many elements.",S=A+'type specification contains unknown option "{2}".',I="Incompatible function call: ",w=I+'mandatory argument "{1}" has no value.',O=I+"too many arguments. {1}",G=function(){var e=Object.prototype.toString.call(arguments);return function(t){return Object.prototype.toString.call(t)===e}}(),J=function(e){return void 0===e?void 0:null===e?null:e.constructor},N=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(t){return t?e.test(t):!1}}();return u.ANYTYPE=function(){},u.TAIL=function(){},u.getArguments=function(e,i){var p,E,m,R,_,A,g,h,v,T,L,P,U,b,I,G,J,N,D,V,F;if(1===arguments.length){if(i=arguments[0],!i||i.length>0)throw Error(r(O,"no parameters defined but arguments given"));return{}}for(p=e.length,E={},m={},P=i.length,U=0,b=i[U],I=0;p>I;++I){G=e[I],R=void 0,_=void 0,A=void 0,g=void 0,h=void 0,v=void 0,T=void 0,L=void 0;for(J in G)if(G.hasOwnProperty(J))if(R=J,N=G[J],n(N))A=!1,_=N;else if(t(N))A=!0,_=N[0],N.length>=2&&(g=!0,h=N[1]);else{if(!a(N))throw Error(r(y,R,"type"));for(D in N)if(N.hasOwnProperty(D))switch(D){case"type":t(N.type)?(A=!0,_=N.type[0]):(A=!1,_=N.type);break;case"defaultValue":g=!0,A=!0,h=N[D];break;case"allowUndefined":v=N[D];break;case"allowNull":T=N[D];break;case"parenthesizeTail":L=N[D];break;default:throw Error(r(S,R,D))}}if(_!==u.TAIL?(void 0===v&&(v=f),void 0===T&&(T=s)):void 0===L&&(L=l),P>U&&o(b,_,v,T)){if(_===u.TAIL){if(++U<P){V=[b];do V[V.length]=i[U];while(++U<P);E[R]=V}else E[R]=!t(b)||L?[b]:b;U=P;break}E[R]=b,++U,P>U&&(b=i[U])}else{if(!A)throw Error(r(w,R));if(g){if(F=_!==Function&&_!==u.ANYTYPE&&n(h)?h():h,!c(F,_,v,T))throw Error(r(d,R));E[R]=F}}}if(P>U)throw Error(r(O,"there are arguments left but all parameters are processed."));return E},u.__export_internals__=function(D){var V,F,Y,x,k,C,M;if(void 0!==D&&!(D instanceof u))throw Error(p+"_arguejs type mismatch");V={config:{ARGUEJS_PRODUCTION_READY:!0},$:{defaults:{DEFAULT_OPTION_VALUE_ALLOWNULL:s,DEFAULT_OPTION_VALUE_ALLOWUNDEFINED:f,DEFAULT_OPTION_VALUE_PARAMETERPARENTHESIZETAIL:l},errorTexts:{ERR_BADCALL_PREFIX:p,ERR_BADCALL_InvalidTypeOfArgument:E,ERR_BADCALL_NoArguments:m,ERR_BADCALL_TooManyArguments:R,ERR_BADCALL_InvalidTypeOfParameter:_,ERR_ARGUEJS_PREFIX:A,ERR_ARGUEJS_DefaultValueHasIncompatibleType:d,ERR_ARGUEJS_InvalidTypeOfValue:g,ERR_ARGUEJS_InvalidValue:y,ERR_ARGUEJS_MissingTypeSpecification:h,ERR_ARGUEJS_ParameterAlreadyDefined:v,ERR_ARGUEJS_ParameterSpecificationWithoutName:T,ERR_ARGUEJS_ParameterWithTooManyElements:L,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:P,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:U,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:b,ERR_ARGUEJS_UnknownTypeSpecificationOption:S,ERR_ARGUEJS_GetParameters_PREFIX:I,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:w,ERR_ARGUEJS_GetParameters_TooManyArguments:O,asRegExp:{}},isBoolean:e,isArray:t,isFunction:n,isObject:a,isArguments:G,isType:i,getType:J,formatText:r,validateParameterName:N,isCompatibleArgumentValue:o,isCompatibleDefaultValue:c},ArgueJS:{},_arguejs:D?void 0:{}},F=/\./g,Y=/\(/g,x=/\)/g,k=/\{[1-9][0-9]?\}/g,C=V.$.errorTexts;for(M in C)C.hasOwnProperty(M)&&"asRegExp"!==M&&(C.asRegExp[M]=RegExp("^"+C[M].replace(F,"\\.").replace(Y,"\\(").replace(x,"\\)").replace(k,".*")+"$"));return V},u})});