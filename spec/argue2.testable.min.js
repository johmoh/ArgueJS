/** @license MIT (http://opensource.org/licenses/MIT) */
if("function"!=typeof define)var define=require("amdefine")(module);define(function(){"use strict";return function(e){return e()}(function(){function e(e){return"boolean"==typeof e}function r(e){return e instanceof Array}function t(e){return"function"==typeof e}function n(e){return e instanceof Object}function i(e){return t(e)}function o(e){var r,t,n,i=e;if(i)for(r=arguments.length,t=1;r>t;++t)n=arguments[t],i=i.replace(RegExp("\\{"+t+"\\}","g"),n);return i}function a(e,r,t,n){return r===l.TAIL?!0:void 0===e?t===!0:null===e?n===!0:r===l.ANYTYPE?!0:N(e)===r||e instanceof r}function f(e,t,n,i){return t===l.TAIL?r(e):void 0===e?n===!0:null===e?i===!0:t===l.ANYTYPE?!0:N(e)===t||e instanceof t}function l(){}var c=!1,u=!1,s=!0,E="bad call: ",p=E+'type of "{1}" is invalid.',m=E+"no arguments. function call is not compatible with function specification.",R=E+"too many arguments. function call is not compatible with function specification.",h=E+"parameter specification #{1} is not an object structure.",_='parameter specification "{1}": ',A=_+"default value is not compatible to parameter type",d=_+'value of "{2}" has incorrect type (must be {3})',g=_+'"{2}" is invalid.',y=_+"type specification is missing.",w=_+"parameter with same name already defined (conflicting position in function specification: #{2})",v="parameter specification: parameter #{1} has no name",T=_+"specification contains more than one element.",L=_+'"{2}" is {3} allowed for the tail-parameter in a variadic function',P="in a variadic function the tail-parameter must be the last parameter in the function specification.",U=_+"type specification has too many elements.",b=_+'type specification contains unknown option "{2}".',S="Incompatible function call: ",O=S+'mandatory argument "{1}" has no value.',I=S+"too many arguments. {1}",G=function(){var e=Object.prototype.toString.call(arguments);return function(r){return Object.prototype.toString.call(r)===e}}(),N=function(e){return void 0===e?void 0:null===e?null:e.constructor},J=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(r){return r?e.test(r):!1}}();return l.ANYTYPE=function(){},l.TAIL=function(){},l.getArguments=function(E,_){var S,D,V,F,Y,x,j,k,C,M,B,$,z,W,X,H,Z,q,K,Q,er;if(1===arguments.length){if(_=arguments[0],!_||_.length>0)throw Error(o(I,"no parameters defined but arguments given"));return{}}if(2!==arguments.length)throw Error(arguments.length<1?m:R);if(!r(E))throw Error(o(p,"_functionSpecification"));if(!G(_)&&!r(_))throw Error(o(p,"_arguments"));for(S=E.length,D={},V={},$=_.length,z=0,W=_[z],X=0;S>X;++X){if(H=E[X],N(H)!==Object)throw Error(o(h,X));F=void 0,Y=void 0,x=void 0,j=void 0,k=void 0,C=void 0,M=void 0,B=void 0;for(Z in H)if(H.hasOwnProperty(Z)){if(F)throw Error(o(T,F));if(F=Z,!J(F))throw Error(o(g,F,"name"));if(q=H[Z],t(q))x=!1,Y=q;else if(r(q)){if(q.length<1)throw Error(o(y,F));if(x=!0,Y=q[0],q.length>=2){if(q.length>2)throw Error(o(U,F));j=!0,k=q[1]}}else{if(!n(q))throw Error(o(g,F,"type"));for(K in q)if(q.hasOwnProperty(K))switch(K){case"type":if(r(q.type)){if(q.type.length<1)throw Error(o(y,F));if(q.type.length>2)throw Error(o(U,F));x=!0,Y=q.type[0]}else x=!1,Y=q.type;break;case"defaultValue":j=!0,x=!0,k=q[K];break;case"allowUndefined":if(C=q[K],!e(C))throw Error(o(d,F,"allowUndefined","boolean"));break;case"allowNull":if(M=q[K],!e(M))throw Error(o(d,F,"allowNull","boolean"));break;case"parenthesizeTail":if(B=q[K],!e(B))throw Error(o(d,F,"parenthesizeTail","boolean"));break;default:throw Error(o(b,F,K))}}}if(!F)throw Error(o(v,X));if(V.hasOwnProperty(F))throw Error(o(w,F,X));if(V[F]=!0,!i(Y))throw Error(o(g,F,"type"));if(Y!==l.TAIL){if(void 0!==B)throw Error(o(L,F,"parenthesizeTail","only"));void 0===C&&(C=u),void 0===M&&(M=c)}else{if(void 0!==C)throw Error(o(L,F,"allowUndefined","not"));if(void 0!==M)throw Error(o(L,F,"allowNull","not"));if(X!==S-1)throw Error(P);void 0===B&&(B=s)}if($>z&&a(W,Y,C,M)){if(Y===l.TAIL){if(++z<$){Q=[W];do Q[Q.length]=_[z];while(++z<$);D[F]=Q}else D[F]=!r(W)||B?[W]:W;z=$;break}D[F]=W,++z,$>z&&(W=_[z])}else{if(!x)throw Error(o(O,F));if(j){if(er=Y!==Function&&Y!==l.ANYTYPE&&t(k)?k():k,!f(er,Y,C,M))throw Error(o(A,F));D[F]=er}}}if($>z)throw Error(o(I,"there are arguments left but all parameters are processed."));return D},l.__export_internals__=function(D){var V,F,Y,x,j,k,C;if(void 0!==D&&!(D instanceof l))throw Error(E+"_arguejs type mismatch");V={config:{ARGUEJS_PRODUCTION_READY:!1},$:{defaults:{DEFAULT_OPTION_VALUE_ALLOWNULL:c,DEFAULT_OPTION_VALUE_ALLOWUNDEFINED:u,DEFAULT_OPTION_VALUE_PARAMETERPARENTHESIZETAIL:s},errorTexts:{ERR_BADCALL_PREFIX:E,ERR_BADCALL_InvalidTypeOfArgument:p,ERR_BADCALL_NoArguments:m,ERR_BADCALL_TooManyArguments:R,ERR_BADCALL_InvalidTypeOfParameter:h,ERR_ARGUEJS_PREFIX:_,ERR_ARGUEJS_DefaultValueHasIncompatibleType:A,ERR_ARGUEJS_InvalidTypeOfValue:d,ERR_ARGUEJS_InvalidValue:g,ERR_ARGUEJS_MissingTypeSpecification:y,ERR_ARGUEJS_ParameterAlreadyDefined:w,ERR_ARGUEJS_ParameterSpecificationWithoutName:v,ERR_ARGUEJS_ParameterWithTooManyElements:T,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:L,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:P,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:U,ERR_ARGUEJS_UnknownTypeSpecificationOption:b,ERR_ARGUEJS_GetParameters_PREFIX:S,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:O,ERR_ARGUEJS_GetParameters_TooManyArguments:I,asRegExp:{}},isBoolean:e,isArray:r,isFunction:t,isObject:n,isArguments:G,isType:i,getType:N,formatText:o,validateParameterName:J,isCompatibleArgumentValue:a,isCompatibleDefaultValue:f},ArgueJS:{},_arguejs:D?void 0:{}},F=/\./g,Y=/\(/g,x=/\)/g,j=/\{[1-9][0-9]?\}/g,k=V.$.errorTexts;for(C in k)k.hasOwnProperty(C)&&"asRegExp"!==C&&(k.asRegExp[C]=RegExp("^"+k[C].replace(F,"\\.").replace(Y,"\\(").replace(x,"\\)").replace(j,".*")+"$"));return V},l})});