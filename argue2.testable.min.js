/** @license MIT (http://opensource.org/licenses/MIT) */
if("function"!=typeof define)var define=require("amdefine")(module);define(function(){"use strict";return function(e){return e()}(function(){function e(e){return"boolean"==typeof e}function r(e){return e instanceof Array}function t(e){return"function"==typeof e}function n(e){return e instanceof Object}function i(e){return t(e)}function o(e){var r,t,n,i=e;if(i)for(r=arguments.length,t=1;r>t;++t)n=arguments[t],i=i.replace(RegExp("\\{"+t+"\\}","g"),n);return i}function a(e,t,n,i,o){if(o){if(t===f.TAIL)return r(e);if(void 0===e)return n===!0;if(null===e)return i===!0}else{if(t===f.TAIL)return!0;if(void 0===e)return n===!0;if(null===e)return i===!0}return t===f.ANYTYPE?!0:O(e)===t||e instanceof t}function f(){}var l=!1,u=!1,c=!0,s="bad call: ",E=s+'type of "{1}" is invalid.',p=s+"no arguments. function call is not compatible with function specification.",m=s+"too many arguments. function call is not compatible with function specification.",h=s+"parameter specification #{1} is not an object structure.",R='parameter specification "{1}": ',_=R+"default value is not compatible to parameter type",d=R+'value of "{2}" has incorrect type (must be {3})',A=R+'"{2}" is invalid.',g=R+"type specification is missing.",y="parameter specification: parameter #{1} has no name",w=R+"specification contains more than one element.",v=R+'"{2}" is {3} allowed for the tail-parameter in a variadic function',T="in a variadic function the tail-parameter must be the last parameter in the function specification.",L=R+"type specification has too many elements.",b=R+'type specification contains unknown option "{2}".',U="Incompatible function call: ",P=U+'mandatory argument "{1}" has no value.',S=U+"too many arguments. {1}",I=function(){var e=Object.prototype.toString.call(arguments);return function(r){return Object.prototype.toString.call(r)===e}}(),O=function(e){return void 0===e?void 0:null===e?null:e.constructor},G=function(){var e=/^[_a-z$]{1}[_a-z0-9$]*$/i;return function(r){return r?e.test(r):!1}}();return f.ANYTYPE=function(){},f.TAIL=function(){},f.getArguments=function(s,R){var U,N,J,D,F,V,x,j,k,M,B,Y,C,$,z,W,X,H,Z,q;if(1===arguments.length){if(R=arguments[0],!R||R.length>0)throw Error(o(S,"no parameters defined but arguments given"));return{}}if(2!=arguments.length)throw Error(arguments.length<1?p:m);if(!r(s))throw Error(o(E,"_functionSpecification"));if(!I(R)&&!r(R))throw Error(o(E,"_arguments"));for(U=s.length,N={},B=R.length,Y=0,C=R[Y],$=0;U>$;++$){if(z=s[$],O(z)!==Object)throw Error(o(h,$));J=void 0,D=void 0,F=void 0,V=void 0,x=void 0,j=void 0,k=void 0,M=void 0;for(W in z)if(z.hasOwnProperty(W)){if(J)throw Error(o(w,J));if(J=W,!G(J))throw Error(o(A,J,"name"));if(X=z[W],t(X))F=!1,D=X;else if(r(X)){if(X.length<1)throw Error(o(g,J));if(F=!0,D=X[0],X.length>=2){if(X.length>2)throw Error(o(L,J));V=!0,x=X[1]}}else{if(!n(X))throw Error(o(A,J,"type"));for(H in X)if(X.hasOwnProperty(H))switch(H){case"type":if(r(X.type)){if(X.type.length<1)throw Error(o(g,J));if(X.type.length>2)throw Error(o(L,J));F=!0,D=X.type[0]}else F=!1,D=X.type;break;case"defaultValue":V=!0,F=!0,x=X[H];break;case"allowUndefined":if(j=X[H],!e(j))throw Error(o(d,J,"allowUndefined","boolean"));break;case"allowNull":if(k=X[H],!e(k))throw Error(o(d,J,"allowNull","boolean"));break;case"parenthesizeTail":if(M=X[H],!e(M))throw Error(o(d,J,"parenthesizeTail","boolean"));break;default:throw Error(o(b,J,H))}}}if(!J)throw Error(o(y,$));if(!i(D))throw Error(o(A,J,"type"));if(D!==f.TAIL){if(void 0!==M)throw Error(o(v,J,"parenthesizeTail","only"));void 0===j&&(j=u),void 0===k&&(k=l)}else{if(void 0!==j)throw Error(o(v,J,"allowUndefined","not"));if(void 0!==k)throw Error(o(v,J,"allowNull","not"));if($!=U-1)throw Error(T);void 0===M&&(M=c)}if(B>Y&&a(C,D,j,k,!1)){if(D===f.TAIL){if(++Y<B){Z=[C];do Z[Z.length]=R[Y];while(++Y<B);N[J]=Z}else N[J]=!r(C)||M?[C]:C;Y=B;break}N[J]=C,++Y,B>Y&&(C=R[Y])}else{if(!F)throw Error(o(P,J));if(V){if(q=D!==Function&&D!==f.ANYTYPE&&t(x)?x():x,!a(q,D,j,k,!0))throw Error(o(_,J));N[J]=q}}}if(B>Y)throw Error(o(S,"there are arguments left but all parameters are processed."));return N},f.__export_internals__=function(N){var J,D,F,V,x,j,k;if(void 0!==N&&!(N instanceof f))throw Error(s+"_arguejs type mismatch");J={$:{defaults:{DEFAULT_OPTION_VALUE_ALLOWNULL:l,DEFAULT_OPTION_VALUE_ALLOWUNDEFINED:u,DEFAULT_OPTION_VALUE_PARAMETERPARENTHESIZETAIL:c},errorTexts:{ERR_BADCALL_PREFIX:s,ERR_BADCALL_InvalidTypeOfArgument:E,ERR_BADCALL_NoArguments:p,ERR_BADCALL_TooManyArguments:m,ERR_BADCALL_InvalidTypeOfParameter:h,ERR_ARGUEJS_PREFIX:R,ERR_ARGUEJS_DefaultValueHasIncompatibleType:_,ERR_ARGUEJS_InvalidTypeOfValue:d,ERR_ARGUEJS_InvalidValue:A,ERR_ARGUEJS_MissingTypeSpecification:g,ERR_ARGUEJS_ParameterSpecificationWithoutName:y,ERR_ARGUEJS_ParameterWithTooManyElements:w,ERR_ARGUEJS_ParameterXYZAllowedInVariadicFunction:v,ERR_ARGUEJS_TailParameterMustBeLastPastparameter:T,ERR_ARGUEJS_TypeSpecificationHasTooManyElements:L,ERR_ARGUEJS_UnknownTypeSpecificationOption:b,ERR_ARGUEJS_GetParameters_PREFIX:U,ERR_ARGUEJS_GetParameters_MandatoryParameterWithoutValue:P,ERR_ARGUEJS_GetParameters_TooManyArguments:S,asRegExp:{}},isBoolean:e,isArray:r,isFunction:t,isObject:n,isArguments:I,isType:i,getType:O,formatText:o,validateParameterName:G,isCompatibleValue:a},ArgueJS:{},_arguejs:N?void 0:{}},D=/\./g,F=/\(/g,V=/\)/g,x=/\{[1-9][0-9]?\}/g,j=J.$.errorTexts;for(k in j)j.hasOwnProperty(k)&&"asRegExp"!==k&&(j.asRegExp[k]=RegExp("^"+j[k].replace(D,"\\.").replace(F,"\\(").replace(V,"\\)").replace(x,".*")+"$"));return J},f})});
/*
//@ sourceMappingURL=argue2.testable.min.js.map
*/